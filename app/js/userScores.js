/**
 * This function gets the user data and grabs all the percentage scores
 *
 * @returns will return an array of strings of percentage scores and passes it as a param in within a function call for categoriseData
 */
async function userScores(){
    let usersObject = await createUsersObject()
    let usersData = usersObject.data
    let percentagesArray = []
    usersData.forEach(function (element) {
        percentagesArray.push(element.percentage)
    })
    categoriseData(percentagesArray)
}

/**
 * This function divides user scores into three categories and places them into separate arrays
 *
 * @param is the user percentage scores array generated by the userScores function
 *
 * @returns will return the length of each array to give the total number of users falling into each score category
 */

function categoriseData(userScores){
    let highscore = []
    let pass = []
    let notPass = []
    userScores.forEach(function (element) {
        if (parseInt(element) >= 97){
            highscore.push(element)
        } else if (parseInt(element) >= 70 && parseInt(element) < 97) {
            pass.push(element)
        } else {
            notPass.push(element)
        }
    })
    let highscoreTotal = highscore.length
    let passTotal = pass.length
    let notPassTotal = notPass.length

    console.log(highscoreTotal)
    console.log(passTotal)
    console.log(notPassTotal)
}

userScores()