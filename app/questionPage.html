<!DOCTYPE html>
<html lang="en">

<head>
    <script src="js/userLogIn.js"></script>
    <script>
        let userEmail = getCookie('userEmail')
        getUser(userEmail).then(function (user) {
            if (!user.success || !isAuthorised(user.data)) {
                window.location.replace("index.html")
            }
        })
    </script>
    <meta charset="UTF-8">
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,700" rel="stylesheet">
    <title>Mayden Aptitude Test</title>
    <link href="css/bootstrap.min.css" type="text/css" rel="stylesheet">
    <link href="css/questionPage.css" type="text/css" rel="stylesheet">
    <link rel="stylesheet" href="css/resultPage.css">
    <script src="js/handlebars-v4.0.11.js"></script>
    <script src="js/aptitudeTestHelpers.js" async></script>
    <script src="js/ajaxHandlebarsTemplate.js" defer></script>
    <script src="js/modal.js" async></script>
    <script src="js/questions.js" defer></script>
    <script src="js/question_desc.js" defer></script>
    <script src="js/questionNav.js" defer></script>
    <script src="js/timer.js" defer></script>
    <script src="js/checkAnswers.js" defer></script>
    <script src="js/sendResults.js" defer></script>
    <script src="js/overview.js" defer></script>
</head>

<body>
    <div class="overlay"></div>

    <!-- Modal -->
    <div id="modal">
        <h3 id="modal-title-1" class="modal-title"> </h3>
        <h3 id="modal-title-2" class="modal-title"> </h3>
        <div id="modal-content">
            <div class="list-wrapper">
                <div class="list-container">
                    <p>Flagged questions:</p>
                    <ul id="flag-list"></ul>
                </div>
                <div class="list-container">
                    <p>Unanswered questions:</p>
                    <ul id="unanswered-list"></ul>
                </div>
            </div>
            <div class="modal-button-holder">
                <button id="modal-close">Back</button>
                <button id="modal-finish">Finish anyway</button>
            </div>
        </div>
    </div>
    <!--question number and time -->
    <div id="question_page">
        <div class="container">
            <div class="row">
                <div class="col-md-2">
                    <h3>Question number</h3>
                    <h4></h4>
                    <label for="flag-checkbox" id="flag-label">Flag</label>
                    <input type="checkbox" id="flag-checkbox">
                </div>
                <div class="col-md-offset-8 col-md-2">
                    <h3 id="timer"></h3>
                </div>
            </div>
            <!--question body and nav-->
            <div class="row">
                <div class="col-md-2">
                    <button type="button" class="btn btn-info prev">Previous</button>
                </div>
                <div class="question-container col-md-8">
                    <div id="questions"></div>
                    <div id="question-nav" class="question-nav"></div>
                    <button type="button" id="finish" class="btn btn-success finish">Finish</button>
                </div>
                <div class="col-md-2 overview_column">
                    <button type="button" class="btn btn-info next">Next</button>
                    <button type="button" class="btn btn-info overview">Overview</button>
                </div>
                <div class="col-md-2">
                </div>
            </div>
        </div>
    </div>
    <div id="overview_page">
        <h1>Test Overview</h1>
        <table class="overview_page_table">
            <thead>
                <tr>
                    <th>Question Id</th>
                    <th>Question</th>
                    <th>Answered</th>
                    <th>Flagged</th>
                </tr>
            </thead>
            <tbody class="overview_table_body"></tbody>
        </table>
        <footer class="overview_footer">
            <div class="row">
                <div class="col-xs-9">
                    <p>Clicking this button submits the test once and for all there is no turning back!</p>
                </div>
                <div class="col-xs-3">
                    <button type="button" id="finish" class="btn btn-danger finish">Finish</button>
                </div>
            </div>
        </footer>
    </div>
    <div id="result_page">
        <div class="container">
            <div class="userMessage">
            </div>
            <div class="result_card">
                <div class="greetings">
                    <p>Your score</p>
                </div>
                <div class="result_card">
                    <div class="greetings">
                        <p>Your score</p>
                    </div>
                    <div class="result">
                        <div class="points col-xs-4">
                            <div class="points_label">
                                <h3>Points</h3>
                            </div>
                            <div class="points_number">
                                <p><span class="score"></span></p>
                            </div>
                        </div>
                        <div class="percentage col-xs-4">
                            <div class="percentage_label">
                                <h3>Percentage</h3>
                            </div>
                            <div class="percentage_number">
                                <p><span class="score_percentage"></span>%</p>
                            </div>
                        </div>
                        <div class="answered col-xs-4">
                            <div class="answered_label">
                                <h3>Answered</h3>
                            </div>
                            <div class="answered_number">
                                <p><span class="answered_questions"></span></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>

</html>